# Dynamic Dispatch 动态分发

在计算机科学中，**动态分发**是一种在运行时调用选择多态实现操作（方法或者函数）的一个流程。它是面向对象编程语言或者系统中最重要的特点之一。

面向对象的系统将问题模型化为一组交互对象，这些对象通过名称引用来操作。多态性是一种这样的现象，其中有些可互换的对象，每个对象都暴露相同名字的操作，但是行为可能不同。有这样一个例子，一个文件对象和一个数据库对象，它们都有一个`StoreRecord`的方法，这个方法可以被用来将个人记录写到存储器中。它们的实现是不同的。一个程序可能有一个引用既指向这个`File`对象，又指向这个`Database`对象。这可能就会由运行时的设置决定了，而且在这个阶段，程序不知道也不关心这个对象到底是谁。当程序调用`StoreRecord`这个对象的时候，需要一些内容来决定到底要表现为什么行为。如果将OOP视为向对象发送消息，则在此示例中，程序将StoreRecord消息发送到未知类型的对象，将其留给运行时支持系统以便将消息分发到正确的对象上。该对象确定其实现的任何行为。

动态分发与静态分发形成对比，这是一种在运行时选择多态性的操作的实现。动态分发的目的在于，要支持那些不能在编译时期确定类型的多态性操作场景，之所以不能在编译时期确定哪一种确切的类型（操作：operation），这是因为它依赖于到操作的一个或者多个参数的运行时类型。

动态分发与延迟绑定（动态绑定）是不同的。在选择操作的环境中，**绑定（binding）**是将名字关联到操作上，而**分发（dispatch）**是在你确定所涉及的操作的名称之后，选择该操作的实现。在动态分发中，这个名字可能会在编译时绑定到一个多态的操作上，但直到运行之前都不会去选择真实的实现，也就是说，编译期间之间名字绑定到操作上，如将字母`a`绑定到一个操作上，此时这个操作的名字为`a()`，但是操作的具体实现是不知道的，因为这是多态性选择的结果，直到运行时才会知道。虽然动态分发并不意味着动态绑定，但是动态绑定确实意味着动态分发，因为绑定是确定可用的一组分发的集合。